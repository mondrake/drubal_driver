diff --git a/core/lib/Drupal/Core/Database/Log.php b/core/lib/Drupal/Core/Database/Log.php
index c0768fbb..ab47c593 100644
--- a/core/lib/Drupal/Core/Database/Log.php
+++ b/core/lib/Drupal/Core/Database/Log.php
@@ -145,8 +145,8 @@ public function log(StatementInterface $statement, $args, $time) {
    * @return
    *   This method returns a stack trace entry similar to that generated by
    *   debug_backtrace(). However, it flattens the trace entry and the trace
-   *   entry before it so that we get the function and args of the function
-   *   that called into the database system, not the function and args of the
+   *   entry before it so that we get the function and args of the function that
+   *   called into the database system, not the function and args of the
    *   database call itself.
    */
   public function findCaller() {
@@ -173,7 +173,7 @@ public function findCaller() {
           'file' => $stack[$i]['file'],
           'line' => $stack[$i]['line'],
           'function' => $stack[$i + 1]['function'],
-          'class' => $stack[$i + 1]['class'] ?? '',
+          'class' => $stack[$i + 1]['class'] ?? NULL,
           'type' => $stack[$i + 1]['type'] ?? NULL,
           'args' => $stack[$i + 1]['args'] ?? [],
         ];
diff --git a/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php b/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php
index de100195..daa6a15a 100644
--- a/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php
+++ b/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php
@@ -183,107 +183,110 @@ public function providerContribDriverLog() {
     $stack = [
       [
         'file' => '/var/www/core/lib/Drupal/Core/Database/Log.php',
-        'line' => 118,
+        'line' => 125,
         'function' => 'findCaller',
         'class' => 'Drupal\\Core\\Database\\Log',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
-        'file' => '/var/www/core/lib/Drupal/Core/Database/Statement.php',
-        'line' => 63,
+        'file' => '/var/www/libraries/drudbal/lib/Statement.php',
+        'line' => 264,
         'function' => 'log',
         'class' => 'Drupal\\Core\\Database\\Log',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
-      ],
-      [
-        'file' => '/var/www/vendor/doctrine/dbal/lib/Doctrine/DBAL/Statement.php',
-        'line' => 168,
-        'function' => 'execute',
-        'class' => 'Drupal\\Core\\Database\\Statement',
-        'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
-        'file' => '/var/www/modules/contrib/drudbal/drivers/lib/Drupal/Driver/Database/dbal/Connection.php',
-        'line' => 183,
+        'file' => '/var/www/libraries/drudbal/lib/Connection.php',
+        'line' => 213,
         'function' => 'execute',
-        'class' => 'Doctrine\\DBAL\\Statement',
+        'class' => 'Drupal\\Driver\\Database\\dbal\\Statement',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
-        'file' => '/var/www/core/includes/database.inc',
-        'line' => 61,
+        'file' => '/var/www/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php',
+        'line' => 23,
         'function' => 'query',
         'class' => 'Drupal\\Driver\\Database\\dbal\\Connection',
-        'object' => NULL,
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
-      ],
-      [
-        'file' => '/var/www/tests/Drupal/KernelTests/Core/Database/LoggingTest.php',
-        'line' => 20,
-        'function' => 'db_query',
-        'args' => [],
-      ],
-      [
-        'class' => 'Drupal\\KernelTests\\Core\\Database\\LoggingTest',
-        'function' => 'testEnableLogging',
-        'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
         'file' => '/var/www/vendor/phpunit/phpunit/src/Framework/TestCase.php',
-        'line' => 908,
-        'function' => 'invokeArgs',
-        'class' => 'ReflectionMethod',
-        'object' => NULL,
+        'line' => 1154,
+        'function' => 'testEnableLogging',
+        'class' => 'Drupal\\KernelTests\\Core\\Database\\LoggingTest',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
         'file' => '/var/www/vendor/phpunit/phpunit/src/Framework/TestCase.php',
-        'line' => 768,
+        'line' => 842,
         'function' => 'runTest',
-        'class' => 'PHPUnit_Framework_TestCase',
-        'object' => NULL,
+        'class' => 'PHPUnit\\Framework\\TestCase',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
         'file' => '/var/www/vendor/phpunit/phpunit/src/Framework/TestResult.php',
-        'line' => 612,
+        'line' => 693,
         'function' => 'runBare',
-        'class' => 'PHPUnit_Framework_TestCase',
-        'object' => NULL,
+        'class' => 'PHPUnit\\Framework\\TestCase',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
         'file' => '/var/www/vendor/phpunit/phpunit/src/Framework/TestCase.php',
-        'line' => 724,
+        'line' => 796,
         'function' => 'run',
-        'class' => 'PHPUnit_Framework_TestResult',
-        'object' => NULL,
+        'class' => 'PHPUnit\\Framework\\TestResult',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
-        'file' => '-',
-        'line' => 52,
+        'file' => 'Standard input code',
+        'line' => 57,
         'function' => 'run',
-        'class' => 'PHPUnit_Framework_TestCase',
-        'object' => NULL,
+        'class' => 'PHPUnit\\Framework\\TestCase',
+        'object' => 'test',
         'type' => '->',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
       [
-        'file' => '-',
-        'line' => 1574,
+        'file' => 'Standard input code',
+        'line' => 111,
         'function' => '__phpunit_run_isolated_test',
-        'args' => [],
+        'args' => [
+          0 => 'test',
+        ],
       ],
     ];
 
@@ -296,24 +299,29 @@ public function providerContribDriverLog() {
         [
           'class' => 'Drupal\\KernelTests\\Core\\Database\\LoggingTest',
           'function' => 'testEnableLogging',
-          'file' => '/var/www/tests/Drupal/KernelTests/Core/Database/LoggingTest.php',
-          'line' => 20,
+          'file' => '/var/www/core/tests/Drupal/KernelTests/Core/Database/LoggingTest.php',
+          'line' => 23,
           'type' => '->',
-          'args' => [],
+          'args' => [
+            0 => 'test',
+          ],
         ],
       ],
-      // Test that even if the driver namespace is not in the stack trace, the
-      // first non-database entry is still returned.
+      // Extreme case, should not happen at normal runtime - if the driver
+      // namespace is not in the stack trace, the first entry to a method
+      // in core database namespace is returned.
       'missing driver namespace' => [
         'Drupal\\Driver\\Database\\fake',
         $stack,
         [
-          'class' => 'Drupal\\KernelTests\\Core\\Database\\LoggingTest',
-          'function' => 'testEnableLogging',
-          'file' => '/var/www/tests/Drupal/KernelTests/Core/Database/LoggingTest.php',
-          'line' => 20,
+          'class' => 'Drupal\\Driver\\Database\\dbal\\Statement',
+          'function' => 'execute',
+          'file' => '/var/www/libraries/drudbal/lib/Statement.php',
+          'line' => 264,
           'type' => '->',
-          'args' => [],
+          'args' => [
+            0 => 'test',
+          ],
         ],
       ],
     ];
